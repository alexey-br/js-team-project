const t={libraryMoviesContainer:document.querySelector("[data-user-library]"),libraryMoviesPagination:document.querySelector("[data-user-library-pagination]"),libraryWatchedBtn:document.querySelector('[data-library="watched"]'),libraryQueueBtn:document.querySelector('[data-library="queue"]')};t.libraryWatchedBtn.addEventListener("click",(function(t){a.storageName="watchedMovies",n()})),t.libraryQueueBtn.addEventListener("click",(function(t){a.storageName="queueForWatch",n()}));const a=new class{render(){const t=JSON.parse(localStorage.getItem(this.storageName));if(!t)return;this.pages=Math.ceil(t.length/20);const a=t.reduce(((t,a,n)=>n<20*this.page&&n>=20*(this.page-1)?[...t,a]:t),[]),n=this.createMarkup(a);this.container.innerHTML=n}constructor(t,a){this.container=t,this.storageName="",this.page=1,this.pages=1,this.createMarkup=a}}(t.libraryMoviesContainer,(function(t){return t.reduce(((t,a)=>{const{id:n,genres:e,poster_path:s,release_date:i,title:r,vote_average:o}=a;return`${t}\n      <li class="card__film"  data-movie-id="${n}">\n        <img class="card__img"src="${s?`https://image.tmdb.org/t/p/w500${s}`:"./default-poster.jpg"}" alt="${r} movie poster" >\n        <div class="card__info">\n        <h2 class="card__title">${r}</h2>\n        <p class="card__text">\n        <span class="card__genre">${e.map((({name:t})=>t)).join(", ")}</span>\n        <span class="card__release">${i}</span><span class="card__rating   ">${o}</span>\n        </p>\n        </div>\n      </li>\n      `}),"")}));function n(){var n,e;a.render(),n=a.page,e=a.pages,t.libraryMoviesPagination.innerHTML=function(t,a){let n=t-2,e=t+2;n<1&&(n=1,e=5>a?a:5),e>a&&(e=a,n=a-5<2?1:a-4);let s="";for(let a=n;a<=e;a+=1)s+=`<button ${a===t?'class="pagination-btn current-page"':""} data-page="${a}" class="pagination-btn">${a}</button>`;return(1===t?'<button disabled class="pagination-btn disabled"><svg class="arrow__icon" width="16" height="16" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n                <path d="M25.334 16h-18.668M16 25.334l-9.334-9.334 9.334-9.334"></path>\n              </svg></button>':'<button data-page-step="-1" class="pagination-btn"><svg class="arrow__icon" width="16" height="16" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n                <path d="M25.334 16h-18.668M16 25.334l-9.334-9.334 9.334-9.334"></path>\n              </svg></button>')+(n>1?'<button data-page="1" class="pagination-btn">1</button>':"")+(n>2?'<span class="span-btn">...</span>':"")+s+(e<a-1?'<span class="span-btn">...</span>':"")+(e<a?`<button data-page="${a}" class="pagination-btn">${a}</button>`:"")+(t===a?'<button disabled class="pagination-btn disabled"><svg class="arrow__icon" width="16" height="16" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n                <path d="M6.666 16h18.668M16 25.334l9.334-9.334-9.334-9.334"></path>\n              </svg></button>':'<button data-page-step="1" class="pagination-btn"><svg class="arrow__icon" width="16" height="16" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n                <path d="M6.666 16h18.668M16 25.334l9.334-9.334-9.334-9.334"></path>\n              </svg></button>')}(n,e)}a.storageName="watchedMovies",n();
//# sourceMappingURL=my-library.9d3fef10.js.map
