{"mappings":"mkBAAA,aACAA,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QAER,SAA4BC,GACxB,GAAIC,MAAMC,QAAQF,GAAM,OAAOG,EAAuBJ,QAAQC,E,EAFlE,IAIgCI,EAJ5BD,GAI4BC,EAJeC,EAAA,WAK7BD,EAAIE,WAAaF,EAAM,CACjCL,QAASK,E,sCCXjB,aACAV,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAA2BC,EAAKO,IACjB,MAAPA,GAAeA,EAAMP,EAAIQ,UAAQD,EAAMP,EAAIQ,QAC/C,IAAI,IAAIC,EAAI,EAAGC,EAAO,IAAIT,MAAMM,GAAME,EAAIF,EAAKE,IAAIC,EAAKD,GAAKT,EAAIS,GACjE,OAAOC,C,uCCRX,aACAhB,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAA0BY,GACtB,GAAsB,oBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOV,MAAMa,KAAKH,E,uCCNxH,aACAjB,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,WACI,MAAM,IAAIgB,UAAU,wI,uCCNxB,aACArB,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QAER,SAAqCiB,EAAGC,GACpC,IAAKD,EAAG,OACR,GAAiB,iBAANA,EAAgB,OAAOE,EAAuBnB,QAAQiB,EAAGC,GACpE,IAAIE,EAAIzB,OAAO0B,UAAUC,SAASC,KAAKN,GAAGO,MAAM,GAAG,GACzC,WAANJ,GAAkBH,EAAEQ,cAAaL,EAAIH,EAAEQ,YAAYC,MACvD,GAAU,QAANN,GAAqB,QAANA,EAAa,OAAOlB,MAAMa,KAAKK,GAClD,GAAU,cAANA,GAAqB,2CAA2CO,KAAKP,GAAI,OAAOD,EAAuBnB,QAAQiB,EAAGC,E,EAP1H,IASgCb,EAT5Bc,GAS4Bd,EATeC,EAAA,WAU7BD,EAAIE,WAAaF,EAAM,CACjCL,QAASK,E,aCfjBV,OAAOC,eAAegC,EAAS,aAAc,CACzC7B,OAAO,IAEX6B,EAAQ5B,QACR,SAAyB6B,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAId,UAAU,oC,WCG5B,SAASe,EAAkBC,EAAQC,GAC/B,IAAI,IAAIvB,EAAI,EAAGA,EAAIuB,EAAMxB,OAAQC,IAAI,CACjC,IAAIwB,EAAaD,EAAMvB,GACvBwB,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjD1C,OAAOC,eAAeoC,EAAQE,EAAWI,IAAKJ,E,EAftDvC,OAAOC,eAAe2C,EAAS,aAAc,CACzCxC,OAAO,IAEXwC,EAAQvC,QACR,SAAsB8B,EAAaU,EAAYC,GACvCD,GAAYT,EAAkBD,EAAYT,UAAWmB,GACrDC,GAAaV,EAAkBD,EAAaW,GAChD,OAAOX,C,WCPXnC,OAAOC,eAAe8C,EAAS,aAAc,CACzC3C,OAAO,IAEX2C,EAAQ1C,QAKR,SAA4BC,GACxB,OAAO0C,EAAwB3C,QAAQC,IAAQ2C,EAAsB5C,QAAQC,IAAQ4C,EAAiC7C,QAAQC,IAAQ6C,EAAwB9C,S,EALlK,IAAI2C,EAAqBI,EAAuBzC,EAAA,UAC5CsC,EAAmBG,EAAuBzC,EAAA,UAC1CwC,EAAqBC,EAAuBzC,EAAA,UAC5CuC,EAA8BE,EAAuBzC,EAAA,UAIzD,SAASyC,EAAuB1C,GAC5B,OAAOA,GAAOA,EAAIE,WAAaF,EAAM,CACjCL,QAASK,E,CCdF,IAAA2C,ECAZ,W,sBDAkBC,EACPC,EAAWC,G,aACrBC,KAAKF,UAAYA,EACjBE,KAAKC,YAAc,GACnBD,KAAKE,KAAO,EACZF,KAAKG,MAAQ,EACbH,KAAKD,aAAeA,C,iBAGtBb,IAAA,S,MAAA,W,WACQkB,EAAaC,KAAKC,MAAMC,aAAaC,QAAQR,KAAKC,cACxD,GAAKG,EAAL,CACAJ,KAAKG,MAAQM,KAAKC,KAAKN,EAAW/C,OAAS,IAC3C,IAAMsD,EAAwBP,EAAWQ,QAAO,SAACC,EAAKC,EAAOC,GAC3D,OAAIA,EAAoB,GAAZC,EAAKd,MAAaa,GAA2B,IAAjBC,EAAKd,KAAO,GAC1Ce,EAAA3B,EAAD,CAAIuB,GAAAK,OAAJ,CAASJ,IAETD,C,GAER,IACGM,EAASnB,KAAKD,aAAaY,GACjCX,KAAKF,UAAUsB,UAAYD,CAVV,C,OCXlB,GCIH,IACME,EAAa,gBAEbC,EAAO,CACXC,uBAAwBC,SAASC,cAAc,uBAC/CC,wBAAyBF,SAASC,cAChC,kCAEFE,kBAAmBH,SAASC,cAAc,4BAC1CG,gBAAiBJ,SAASC,cAAc,2BAG1CH,EAAKK,kBAAkBE,iBAAiB,SAqBxC,SAA2BC,GACzBC,EAAY9B,YAAcoB,EAC1BW,G,IAtBFV,EAAKM,gBAAgBC,iBAAiB,SAyBtC,SAAyBC,GACvBC,EAAY9B,YAvCG,gBAwCf+B,G,IAzBF,IAAMD,EAAc,IAAInC,EACtB0B,EAAKC,wBClBQ,SAA4BnB,GACzC,OAAOA,EAAWQ,QAAO,SAACC,EAAKC,GAC7B,IAAQmB,EACNnB,EADMmB,GAAIC,EACVpB,EADUoB,OAAQC,EAClBrB,EADkBqB,YAAaC,EAC/BtB,EAD+BsB,aAAcC,EAC7CvB,EAD6CuB,MAAOC,EACpDxB,EADoDwB,aAGhDC,EAAaL,EAAOM,KAAI,SAAAC,G,OAAOA,EAAJnE,I,IAAiBoE,KAAK,MACjDC,EAASR,EACX,GAAkBjB,OATT,8BASG,QAAkBA,OAAZiB,GAClB,uBAEJ,MAAO,GACoCjB,OADjCL,EAAI,mDAEmBK,OADUe,EAAG,2CACGf,OAAhByB,EAAO,WAEVzB,OAFmBmB,EAAM,wFAIvBnB,OAFFmB,EAAM,6EAGFnB,OADFqB,EAAW,iDAC2CrB,OAApDkB,EAAa,yCAAoDlB,OAAboB,EAAa,6D,GAKlG,G,IDIL,SAASN,IE1BM,IAA0BY,EAAaC,EF2BpDd,EAAYe,SE3B2BF,EF6BrCb,EAAY7B,KE7BsC2C,EF8BlDd,EAAY5B,MACZmB,EAAKI,wBE9BGN,UCHG,SAA0BwB,EAAaC,GACpD,IAAIE,EAAUH,EAAc,EACxBI,EAAUJ,EAAc,EAExBG,EAAU,IACZA,EAAU,EACVC,EAAU,EAAIH,EAAaA,EAAa,GAGtCG,EAAUH,IACZG,EAAUH,EACVE,EAAUF,EAAa,EAAI,EAAI,EAAIA,EAAa,GAIlD,IADA,IAAI1C,EAAQ,GACH7C,EAAIyF,EAASzF,GAAK0F,EAAS1F,GAAK,EAGvC6C,GAAS,WAAkCe,OADzC5D,IAAMsF,EAAc,sCAAwC,GACjC,gBAA2C1B,OAA7B5D,EAAE,6BAA6B4D,OAAF5D,EAAE,aAiC5E,OAhBkB,IAAhBsF,EACK,mRAGA,uRAjBLG,EAAU,EACL,0DACD,KAMiBA,EAAU,EAAI,oCAAsC,IAyBzE5C,GAvBA6C,EAAUH,EAAa,EAAI,oCAAsC,KANjEG,EAAUH,EACN,sBAA4D3B,OAAtC2B,EAAW,6BAAsC3B,OAAX2B,EAAW,aACvE,KAeJD,IAAgBC,EACX,gRAGA,iR,CD5Ce,CAAiBD,EAAaC,E,CFqBtDd,EAAY9B,YAAcoB,EAE1BW,G","sources":["node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","src/js/Movies-library.js","<<jsx-config-pragma.js>>","src/js/library-page.js","src/templates/movies-markup.js","src/js/render-pagination.js","src/templates/pagination-markup.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","export default class MoviesLibrary {\n  constructor(container, createMarkup) {\n    this.container = container;\n    this.storageName = '';\n    this.page = 1;\n    this.pages = 1;\n    this.createMarkup = createMarkup;\n  }\n\n  render() {\n    const moviesData = JSON.parse(localStorage.getItem(this.storageName));\n    if (!moviesData) return;\n    this.pages = Math.ceil(moviesData.length / 20);\n    const currentPageMoviesData = moviesData.reduce((acc, movie, index) => {\n      if (index < this.page * 20 && index >= (this.page - 1) * 20) {\n        return [...acc, movie];\n      } else {\n        return acc;\n      }\n    }, []);\n    const markup = this.createMarkup(currentPageMoviesData);\n    this.container.innerHTML = markup;\n  }\n}\n",null,"import MoviesLibrary from './Movies-library';\nimport createMoviesMarkup from '../templates/movies-markup';\nimport renderPagination from './render-pagination';\n\nconst LS_QUEUE = 'queueForWatch';\nconst LS_WATCHED = 'watchedMovies';\n\nconst refs = {\n  libraryMoviesContainer: document.querySelector('[data-user-library]'),\n  libraryMoviesPagination: document.querySelector(\n    '[data-user-library-pagination]'\n  ),\n  libraryWatchedBtn: document.querySelector('[data-library=\"watched\"]'),\n  libraryQueueBtn: document.querySelector('[data-library=\"queue\"]'),\n};\n\nrefs.libraryWatchedBtn.addEventListener('click', onWatchedBtnClick);\nrefs.libraryQueueBtn.addEventListener('click', onQueueBtnClick);\n\nconst userLibrary = new MoviesLibrary(\n  refs.libraryMoviesContainer,\n  createMoviesMarkup\n);\n\nuserLibrary.storageName = LS_WATCHED;\n\nupdateUserLibrary();\n\nfunction updateUserLibrary() {\n  userLibrary.render();\n  renderPagination(\n    userLibrary.page,\n    userLibrary.pages,\n    refs.libraryMoviesPagination\n  );\n}\n\nfunction onWatchedBtnClick(e) {\n  userLibrary.storageName = LS_WATCHED;\n  updateUserLibrary();\n}\n\nfunction onQueueBtnClick(e) {\n  userLibrary.storageName = LS_QUEUE;\n  updateUserLibrary();\n}\n\n// function onMoviesQueuePaginationClick(e) {\n//   const target = e.target.closest('button');\n//   if (!target) return;\n\n//   if (target.dataset.page) {\n//     moviesQueue.page = Number(target.dataset.page);\n//   }\n//   if (target.dataset.pageStep) {\n//     moviesQueue.page += Number(target.dataset.pageStep);\n//   }\n//   updateMoviesQueue();\n// }\n\n// // ----------------------------------------------------\n// const watchedMovies = new MoviesLibrary(\n//   refs.watchedMoviesContainer,\n//   'watchedMovies',\n//   createMoviesMarkup\n// );\n\n// updateWatchedMovies();\n\n// function updateWatchedMovies() {\n//   watchedMovies.render();\n//   renderPagination(\n//     watchedMovies.page,\n//     watchedMovies.pages,\n//     refs.watchedMoviesPagination\n//   );\n// }\n\n// function onWatchedMoviesPaginationClick(e) {\n//   const target = e.target.closest('button');\n//   if (!target) return;\n\n//   if (target.dataset.page) {\n//     watchedMovies.page = Number(target.dataset.page);\n//   }\n//   if (target.dataset.pageStep) {\n//     watchedMovies.page += Number(target.dataset.pageStep);\n//   }\n//   updateWatchedMovies();\n// }\n","const BASE_URL = 'https://image.tmdb.org/t/p/';\n\nexport default function createMoviesMarkup(moviesData) {\n  return moviesData.reduce((acc, movie) => {\n    const { id, genres, poster_path, release_date, title, vote_average } =\n      movie;\n\n    const genresList = genres.map(({ name }) => name).join(', ');\n    const poster = poster_path\n      ? `${BASE_URL}w500${poster_path}`\n      : './default-poster.jpg';\n\n    return `${acc}\n      <li class=\"card__film\"  data-movie-id=\"${id}\">\n        <img class=\"card__img\"src=\"${poster}\" alt=\"${title} movie poster\" >\n        <div class=\"card__info\">\n        <h2 class=\"card__title\">${title}</h2>\n        <p class=\"card__text\">\n        <span class=\"card__genre\">${genresList}</span>\n        <span class=\"card__release\">${release_date}</span><span class=\"card__rating   \">${vote_average}</span>\n        </p>\n        </div>\n      </li>\n      `;\n  }, '');\n}\n","import paginationMarkup from '../templates/pagination-markup';\n\nexport default function renderPagination(currentPage, totalPages, container) {\n  container.innerHTML = paginationMarkup(currentPage, totalPages);\n}","export default function paginationMarkup(currentPage, totalPages) {\n  let minPage = currentPage - 2;\n  let maxPage = currentPage + 2;\n\n  if (minPage < 1) {\n    minPage = 1;\n    maxPage = 5 > totalPages ? totalPages : 5;\n  }\n\n  if (maxPage > totalPages) {\n    maxPage = totalPages;\n    minPage = totalPages - 5 < 2 ? 1 : totalPages - 4;\n  }\n\n  let pages = '';\n  for (let i = minPage; i <= maxPage; i += 1) {\n    const btnClass =\n      i === currentPage ? 'class=\"pagination-btn current-page\"' : '';\n    pages += `<button ${btnClass} data-page=\"${i}\" class=\"pagination-btn\">${i}</button>`;\n  }\n\n  const firstPage =\n    minPage > 1\n      ? `<button data-page=\"1\" class=\"pagination-btn\">1</button>`\n      : '';\n  const lastPage =\n    maxPage < totalPages\n      ? `<button data-page=\"${totalPages}\" class=\"pagination-btn\">${totalPages}</button>`\n      : '';\n\n  const firstSeparator = minPage > 2 ? '<span class=\"span-btn\">...</span>' : '';\n  const lastSeparator =\n    maxPage < totalPages - 1 ? '<span class=\"span-btn\">...</span>' : '';\n\n  const goBackBtn =\n    currentPage === 1\n      ? `<button disabled class=\"pagination-btn disabled\"><svg class=\"arrow__icon\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M25.334 16h-18.668M16 25.334l-9.334-9.334 9.334-9.334\"></path>\n              </svg></button>`\n      : `<button data-page-step=\"-1\" class=\"pagination-btn\"><svg class=\"arrow__icon\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M25.334 16h-18.668M16 25.334l-9.334-9.334 9.334-9.334\"></path>\n              </svg></button>`;\n  const goForwardBtn =\n    currentPage === totalPages\n      ? `<button disabled class=\"pagination-btn disabled\"><svg class=\"arrow__icon\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M6.666 16h18.668M16 25.334l9.334-9.334-9.334-9.334\"></path>\n              </svg></button>`\n      : `<button data-page-step=\"1\" class=\"pagination-btn\"><svg class=\"arrow__icon\" width=\"16\" height=\"16\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M6.666 16h18.668M16 25.334l9.334-9.334-9.334-9.334\"></path>\n              </svg></button>`;\n\n  return (\n    goBackBtn +\n    firstPage +\n    firstSeparator +\n    pages +\n    lastSeparator +\n    lastPage +\n    goForwardBtn\n  );\n}\n"],"names":["Object","defineProperty","module","exports","value","default","arr","Array","isArray","$f215c72f040a88cf$var$_arrayLikeToArray","obj","parcelRequire","__esModule","len","length","i","arr2","iter","Symbol","iterator","from","TypeError","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","$665014edacbfe17b$exports","instance","Constructor","$74e7f8130373505f$var$_defineProperties","target","props","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","$6195f07b5409ba15$exports","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","$9bcd64f8a5bde30b$export$2e2bcd8739ae039","MoviesLibrary","container","createMarkup","this","storageName","page","pages","moviesData","JSON","parse","localStorage","getItem","Math","ceil","currentPageMoviesData","reduce","acc","movie","index","_this","$parcel$interopDefault","concat","markup","innerHTML","$20cb4a85f74a13e4$var$LS_WATCHED","$20cb4a85f74a13e4$var$refs","libraryMoviesContainer","document","querySelector","libraryMoviesPagination","libraryWatchedBtn","libraryQueueBtn","addEventListener","e","$20cb4a85f74a13e4$var$userLibrary","$20cb4a85f74a13e4$var$updateUserLibrary","id","genres","poster_path","release_date","title","vote_average","genresList","map","param","join","poster","currentPage","totalPages","render","minPage","maxPage"],"version":3,"file":"my-library.4dd4c232.js.map"}