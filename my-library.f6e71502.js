const a={libraryMoviesContainer:document.querySelector("[data-user-library]"),libraryMoviesPagination:document.querySelector("[data-user-library-pagination]"),libraryWatchedBtn:document.querySelector('[data-library="watched"]'),libraryQueueBtn:document.querySelector('[data-library="queue"]')};a.libraryWatchedBtn.addEventListener("click",(function(a){t.storageName="watchedMovies",n()})),a.libraryQueueBtn.addEventListener("click",(function(a){t.storageName="queueForWatch",n()}));const t=new class{render(){const a=JSON.parse(localStorage.getItem(this.storageName));if(!a)return;this.pages=Math.ceil(a.length/20);const t=a.reduce(((a,t,n)=>n<20*this.page&&n>=20*(this.page-1)?[...a,t]:a),[]),n=this.createMarkup(t);this.container.innerHTML=n}constructor(a,t){this.container=a,this.storageName="",this.page=1,this.pages=1,this.createMarkup=t}}(a.libraryMoviesContainer,(function(a){return a.reduce(((a,t)=>{const{id:n,genres:e,poster_path:s,release_date:r,title:i,vote_average:o}=t;return`${a}\n      <li class="card__film"  data-movie-id="${n}">\n        <img class="card__img"src="${s?`https://image.tmdb.org/t/p/w500${s}`:"./default-poster.jpg"}" alt="${i} movie poster" >\n        <div class="card__info">\n        <h2 class="card__title">${i}</h2>\n        <p class="card__text">\n        <span class="card__genre">${e.map((({name:a})=>a)).join(", ")}</span>\n        <span class="card__release">${r}</span><span class="card__rating   ">${o}</span>\n        </p>\n        </div>\n      </li>\n      `}),"")}));function n(){var n,e;t.render(),n=t.page,e=t.pages,a.libraryMoviesPagination.innerHTML=function(a,t){let n=a-2,e=a+2;n<1&&(n=1,e=5>t?t:5),e>t&&(e=t,n=t-5<2?1:t-4);let s="";for(let t=n;t<=e;t+=1)s+=`<button ${t===a?'class="pagination-btn current-page"':""} data-page="${t}" class="pagination-btn">${t}</button>`;return(1===a?'<button disabled class="pagination-btn disabled"><span>&#129144;</span></button>':'<button data-page-step="-1" class="pagination-btn grey-light"><span>&#129144;</span></button>')+(n>1?'<button data-page="1" class="pagination-btn">1</button>':"")+(n>2?'<span class="pagination-btn">...</span>':"")+s+(e<t-1?'<span class="pagination-btn">...</span>':"")+(e<t?`<button data-page="${t}" class="pagination-btn">${t}</button>`:"")+(a===t?'<button disabled class="pagination-btn"><span>&#129146;</span></button>':'<button data-page-step="1" class="pagination-btn grey-light"><span>&#129146;</span></button>')}(n,e)}t.storageName="watchedMovies",n();
//# sourceMappingURL=my-library.f6e71502.js.map
